<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Instruktorlar - Project 2026</title>
    <link rel="stylesheet" href="css/admin-shared.css">
    <link rel="stylesheet" href="css/instructor.css">
</head>
<body>
<aside class="sidebar">
    <div class="logo">Project 2026</div>
    <nav class="menu-list">
        <a href="admin_panel.html" class="menu-item">Admin panel</a>
        <a href="receipts.html" class="menu-item">Chek chiqarish</a>
        <a href="autoschool.html" class="menu-item">Avtomaktab</a>
        <a href="instructor.html" class="menu-item active">Instruktor</a>
        <a href="control.html" class="menu-item">Nazorat</a>
        <a href="#" onclick="logout()" class="menu-item" style="margin-top: 50px; color: #ef4444;">Chiqish</a>
    </nav>
</aside>

<main class="main-content">
    <header>
        <h1>Instruktorlar boshqaruvi</h1>
        <div style="display: flex; align-items: center; gap: 20px;">
            <div id="themeToggle" class="theme-switch-wrapper">
                <span id="themeIcon">üåô</span>
                <span id="themeText">Dark Mode</span>
            </div>
            <div class="user-info" id="adminNameDisplay">Admin</div>
        </div>
    </header>

    <div class="content-grid-dashboard">
        <section class="info-card">
            <h3>Instruktor qo'shish</h3>
            <form id="instructorForm">
                <input type="hidden" id="instructorId">
                <div class="input-group">
                    <label>To'liq ism va familiya</label>
                    <input type="text" id="fullName" required placeholder="F.I.SH...">
                </div>
                <div class="input-group">
                    <label>Mashina raqami</label>
                    <input type="text" id="carNumber" required placeholder="01A777AA">
                </div>
                <div class="input-group">
                    <label>Telefon raqam</label>
                    <input type="number" id="login" required placeholder="99899">
                </div>
                <div class="input-group">
                    <label>Parol</label>
                    <input type="text" id="password" required placeholder="Parol kiriting">
                </div>
                <div class="input-group">
                    <label>Hamkorlik turi</label>
                    <select id="source">
                        <option value="hamkor">Hamkor</option>
                        <option value="filial">Filial</option>
                    </select>
                </div>
                <button type="submit" class="save-btn" id="submitBtn">Qo'shish</button>
            </form>
        </section>

        <section class="list-card">
            <div class="card-header">
                <h3>Ro'yxatga olingan instruktorlar</h3>
            </div>
            <div class="table-wrapper">
                <table>
                    <thead>
                    <tr>
                        <th>ID</th>
                        <th>F.I.SH</th>
                        <th>Telefon</th>
                        <th>Mashina</th>
                        <th>Hamkorlik</th>
                        <th>Holati</th>
                        <th>Amallar</th>
                    </tr>
                    </thead>
                    <tbody id="instructorsTableBody">
                    </tbody>
                </table>
            </div>
        </section>
    </div>

    <div id="deleteModal" class="modal">
        <div class="modal-content">
            <div class="modal-icon">üóëÔ∏è</div>
            <h3 style="color: #ef4444;">O'chirishni tasdiqlaysizmi?</h3>
            <p style="color: #64748b; margin: 10px 0 20px;">Ushbu instruktor ma'lumotlari butunlay o'chirilsinmi?</p>
            <div class="modal-actions">
                <button id="confirmDeleteBtn" class="modal-btn btn-danger">Ha</button>
                <button class="modal-btn btn-success" onclick="closeModal('deleteModal')">Yo'q</button>
            </div>
        </div>
    </div>

    <div id="viewModal" class="modal">
        <div class="modal-content">
            <h3 style="color: var(--primary-color); border-bottom: 2px solid var(--primary-color); display: inline-block; padding-bottom: 5px; margin-bottom: 20px;">üë§ Instruktor ma'lumotlari</h3>
            <div id="viewDetails" class="details-list"></div>
            <button class="modal-btn btn-secondary" onclick="closeModal('viewModal')">Yopish</button>
        </div>
    </div>

    <div id="alertModal" class="modal">
        <div class="modal-content" id="alertContent">
            <div id="alertIcon" style="font-size: 50px; margin-bottom: 15px;">‚ö†Ô∏è</div>
            <h3 id="alertTitle" style="margin-bottom: 10px;">Diqqat!</h3>
            <p id="alertMessage" style="color: #64748b; margin-bottom: 25px; line-height: 1.5;"></p>
            <button class="modal-btn btn-secondary" id="alertBtn" onclick="closeModal('alertModal')" style="width: 100%;">Tushunarli</button>
        </div>
    </div>
</main>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="js/supabase-config.js"></script>
<script src="js/instructor.js"></script>
</body>
</html>